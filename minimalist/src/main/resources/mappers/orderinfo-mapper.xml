<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="OrderInfo">

	<resultMap id="resultOrderInfo" type="OrderInfo">
		<id property="orderinfo_code" column="ORDERINFO_CODE" />
  		<result property="member_id" column="MEMBER_ID"/>
  		<result property="product_code" column="PRODUCT_CODE"/>
  		<result property="orderinfo_date" column="ORDERINFO_DATE"/>
	</resultMap>

	<insert id="orderInfoInsert" parameterType="OrderInfo"> 
		INSERT INTO ORDERINFO VALUES((SELECT MAX(ORDERINFO_CODE) FROM ORDERINFO)+1, #{ member_id }, #{ product_code }, SYSDATE)
	</insert>
	
	<select id="myOrder" parameterType="string" resultType="OrderInfo">
		SELECT * FROM ORDERINFO WHERE MEMBER_ID = #{member_id} ORDER BY ORDERINFO_DATE DESC
	</select>
	
</mapper>
